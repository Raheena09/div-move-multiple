<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>

<body>
    <div id="mainDiv"></div>
</body>
<script>

    const mainDiv = document.getElementById("mainDiv");

    const boxes = [];
    var Xpos = new Array();
    var Ypos =new Array();
    // let maxHeight = mainDiv.clientHeight - 90;
    // let maxWidth = mainDiv.clientWidth - 90;

    function boxGenerator(num) {
        number = num;


        for (i = 0; i < num; i++) {
            const dx = dxGenerator();
            const dy = dyGenerator();
            const aDiv = document.createElement("div");
            mainDiv.append(aDiv);
            aDiv.setAttribute("name", `aDiv${i}`);



            aDiv.setAttribute("style", `position:absolute; top:${dy}px; left:${dx}px;
             height:30px; width:30px; border-radius:50px;
              background-color:#80dbf1;`);
            boxes.push(aDiv);

            moveDiv(2, 2, dx, dy, aDiv, i);
            // console.log(`${dy}px`);
            // console.log(Xpos);


        }

    }

    console.log(boxes);
    // console.log(dxGenerator());
    boxGenerator(5);

    function dxGenerator() {
        // finds number between 1 to maxWidth
        return Math.floor(Math.random() * 770) + 1;
    }

    function dyGenerator() {
        // finds number between 1 to maxheight
        return Math.floor(Math.random() * 470) + 1;

    }


    // function moveDiv(x, y, dx, dy, aDiv) {
    //     setInterval(() => {
    //         dx +=x;
    //         aDiv.style.left = dx + 'px';

    //         dy +=y;
    //         aDiv.style.top = dy + 'px';

    //         if(dx > maxWidth || dx < 0){
    //             // x=-x;
    //             x=x* -1;
    //         }
    //         if(dy > maxHeight || dx < 0){
    //             // y=-y;
    //             y=y* -1;
    //         }
    //     },5);

    // }


    function moveDiv(valueX, valueY, dx, dy, aDiv, index) {
        setInterval(() => {
            dx += valueX;
            aDiv.style.left = dx + "px";

            dy += valueY;
            aDiv.style.top = dy + "px";

            if (dx > 770 || dx < 0) {

                valueX = -valueX;


            }
            if (dy > 470 || dy < 0) {
                valueY = -valueY;

            }

            Xpos[index] = dx;
            Ypos[index] = dy;
            // var divHeight = aDiv.clientHeight;
            // var divWidth = aDiv.clientWidth;
    
            for (var i = 0; i < number; i++) {

                if (!(i === index)) {
                    if ((Xpos[i] < dx + 30) && (Xpos[i] + 30 > dx)
                        && (Ypos[i] < dy + 30) && (Ypos[i] + 30 > dy)) {
                        valueX = -valueX;
                    }
                }
            }


            // console.log(number);
            // console.log(index);
        }, 10);



        // console.log(aDiv.clientHeight);
    }



</script>

</html>